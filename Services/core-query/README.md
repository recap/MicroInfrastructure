## Staging API reference
Access to the API is through tokens which are generated by core-infra on booting of the container. The token is placed in the header label x-access-token. content-type is application/json 
* GET /api/v1/list
Gets a list of all files stored in all storages. 
* Get /api/v1/find/:id
finds a file with name **id** and returns the location/s of the file.
* POST /api/v1/copy
submit an array of copy requests to the staging service. E.g. 
```
[{
    "id": "test123",
    "cmd": {
        "type": "copy",
        "subtype": "scp2scp",
        "src":{
            "type": "scp",
            "host": "SOURCE HOST",
            "user": "USER",
            "path": "FILE PATH"
        },
        "dst":{
            "type": "scp",
            "host": "DESTINATION HOST",
            "user": "USER",
            "path": "FILE PATH"
        },
       "webhook": {
            "method": "POST",
            "url": "WEBHOOK URL",
            "headers": {}
        },
        "options": {}
    }
}]
```
The above submits a request to copy a file using scp from one host to the next. Credential managment is done before through core-infra when booting the containers. Thus staging assumes credentials are in place. Many copy requests can be submitted in one go (JSON array) and will be processed separate. When a copy request is completed, the webhook is called. 
* GET /api/v1/status/:id
Get the status of a copy request with **id**.

