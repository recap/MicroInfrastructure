Bootstrap: docker
From: nvidia/cuda:8.0-cudnn6-runtime
%setup
mkdir /code
%files
requirements.txt /requirements.txt
process_uc1.tar.gz /code
%labels
maintainer "ivan.eggel@hevs.ch"
%post


apt-get update && apt-get install -y \
python-pip \
vim \
python-dev \
pkg-config \
libopencv-dev \
libav-tools  \
libjpeg-dev \
libpng-dev \
libtiff-dev \
libjasper-dev \
build-essential \
openslide-tools \
cmake \
git \
libgtk2.0-dev \
pkg-config \
libavcodec-dev \
libavformat-dev \
libswscale-dev \
libcurl4-gnutls-dev \
librtmp-dev

pip install --upgrade pip
pip install -r /requirements.txt

tar -zvf process_uc1.tar.gz /code
%runscript
exec /bin/bash "$@"

